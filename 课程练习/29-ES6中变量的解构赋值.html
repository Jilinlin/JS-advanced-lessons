<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	
</body>
<script>
	// 数组、对象的解构赋值
	// 解构赋值
	// ES6允许按照一定模式，从数组和对象中提取值，对变量进行赋值，这被称为解构赋值
    // 这种写法属于“模式匹配”，只要等号两边的模式相同，左边的变量就会被赋予对应的值



    //一、数组的解构赋值

    let [, , third] = [1,2,3]; //third作为变量出现 左右两侧结构上要匹配
    console.log(third); //先解析两侧结构再赋值
    //3


    let [head,...tail] = [1,2,3,4];//...剩余运算符，其他元素匹配完成后剩余下的元素
    console.log(head,tail);
    //1 [2,3,4]

    let [d,e,...f] = ['a'];//当左侧结构元素个数大于右侧时 未匹配到的变量会是undefined ...跟的变量未匹配元素为[]
    console.log(d,e,f);
    //'a' undefined []

    //二、对象的解构赋值
    //对象解构赋值，根据键名来进行匹配，然后完成赋值

    var {bar2,foo2} = {foo2:"ccc",bar2:"ddd"};//注意键值对赋值时的对应关系
    console.log(foo2,bar2);
    //ccc ddd

    var {baz3} = {foo3:"ccc",bar3:"ddd"};
    console.log(baz3);
    //undefined


    //键值对 键名仅用于匹配 真正赋值是对应的值
    var {foo4:baz4} = {foo4:"aaa",bar4:"bbb"};
    console.log(baz4);
    //aaa


    //三、字符串的解构赋值
    // 只要等号右边的值不是对象，就先将其转换为对象
    // 字符串自身有length
    // 只要是类数组结构，有length属性便可以
    let str = new String("abcdef");
    let [a,b,c,g,r] = str;
    console.log(a,b,c);

    let[e,f] = "ef";
    console.log(e,f);
    //e f 

    //四、数字的解构赋值
    // 数字自动转换成对象
    //number对象上会有toString方法
    let num = new Number(5);
    //所有对象都有toString 
    console.log(num.toString);//ƒ toString() { [native code] }
    let{toString: s1} = num;
    console.log(s1);//ƒ toString() { [native code] }

    // 五、函数参数的解构赋值
    function fn1({x = 0,y = 0} = {}){
    	return [x,y];
    }
    console.log(fn1());//[0, 0]
    console.log(fn1({}));//[0,0]
    console.log(fn1({x:3}));//[3,0]
    console.log(fn1({x:3,y:4}));//[3,4]

    // 六、解构赋值的常用应用
    // （1）交换变量
    let[x,y] = ['a','b'];
    let[y,x] = [x,y];
    console.log(x,y);
    // (2)从函数中返回多个值
    function example(){
    	return [1,2,3];
    }
    let [a,b,c] = example();
    console.log(a,b,c

    // （3）提取JSON数据
    let json1 = {//对象数据结构
    	"username":"zhangsan",
    	"courseList":["高等数学","大学英语"],
    	"age":20
    }
    // JSON MATH都是对象，没有构造函数
    //转换为字符串
    let jsonStr = JSON.stringify(json1);
    console.log(jsonStr);
    //{"username":"zhangsan","courseList":["高等数学","大学英语"],"age":20}
    //转换为对象
    json1 = JSON.parse(jsonStr);
    console.log(json1);
    //{username: "zhangsan", courseList: Array(2), age: 20}

    let {username} = json1;
    console.log(username);

    let {username,age} = json1;
    console.log(username,age);
















    
</script>
</html>